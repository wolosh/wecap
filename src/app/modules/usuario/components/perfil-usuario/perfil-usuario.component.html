<div class="page-content container-lg top pb-5">
    <div class="row pt-5 d-flex align-items-center">
        <div class="col-12 col-md-4 col-lg-3">
            <h1 class="text txt-blue">Perfil</h1>
            <hr class="w-100">
        </div>
        <!--div class="col-12 col-md-3 col-lg-2 ms-lg-5">
            <img src="assets/img/perfil.svg" class="w-100 h-100 rounded-circle border-blue border-1" alt="">
        </div-->
        <div class="col-12 col-md-5 col-lg-4 ">
            <label class="text4 txt-blue d-block">{{this.allPerfil.full_name}}</label>
            <label class="text5 txt-blue mt-0 text-mays">{{this.allPerfil.area}}</label>
        </div>
    </div>
    <div class="row pt-5 pt-md-3 mb-3">
        <div class="col-12">
            <label class="text5 txt-blue me-2">Curso:</label>
            <select class="form-select w-auto d-inline" [(ngModel)]="cursoSelected" (change)="changeOption('curso')">
                <option value="0" hidden>Selecciona un curso</option>
                <option *ngFor="let certificacion of this.certificaciones" [value]="certificacion.idCertification">{{certificacion.title}}</option>
            </select>
        </div>
    </div>
    <div class="row" *ngIf="this.modulos == 1">
        <div class="col-6 col-md-4 offset-6 offset-md-8 offset-lg-9 offset-xl-10 col-lg-3 col-xl-2">
            <button type="button" class="boton bg-blue mx-auto d-block w-100">Descargar diploma</button>
        </div>
        <div class="col-12">
            <div class="table-responsive">
                <table id="example" class="table certificado nowrap" style="width:100%">
                    <thead>
                        <tr>
                            <th></th>
                            <th class="text4 txt-blue">Módulo</th>
                            <th class="text4 txt-blue">Progreso</th>
                            <th class="text4 txt-blue">Calificación e intentos</th>
                            <th class="text4 txt-blue">Fecha asignado</th>
                            <th class="text4 txt-blue">Fecha terminado</th>
                            <th class="text4 txt-blue">Duración</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let modulo of this.modulesCertifications" >
                        <tr>
                            <td class="text6 txt-blue bg-blue2 text-center">{{modulo.idModule}}</td>
                            <td class="">{{modulo.title}}</td>
                            <td>
                                <div class="progress bg-blue2 rounded-pill">
                                    <div class="progress-bar bg-blue text11" role="progressbar" [style.width]="modulo.progreso+'%'" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">{{modulo.progreso}}%</div>
                                </div>
                            </td>
                            <td class="">{{modulo.calificacion}}</td>
                            <td class="">{{modulo.fechaAsignacion}}</td>
                            <td class="">{{modulo.fechaTermino}}</td>
                            <td class="">{{modulo.duracion}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-12 mb-3">
            <label class="text5 txt-blue me-2">Módulo:</label>
            <select class="form-select w-auto d-inline" [(ngModel)]="moduloSelected" (change)="changeOption('modulo')">
                <option value="0" hidden>Selecciona un modulo</option>
                <option *ngFor="let modulo of this.modulesCertifications"  [value]="modulo.idModule">{{modulo.title}}</option>
            </select>
        </div>
    </div>
    <!--Modulos-->
    <div class="row mt-4" *ngIf="this.temas == 1">
        <div class="col-12">
            <div class="table-responsive">
                <table id="example2" class="stripe modulos nowrap" style="width:100%">
                    <thead>
                        <tr>
                            <th></th>
                            <th class="text4 txt-blue">Tema</th>
                            <th class="text4 txt-blue">Visto</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let tema of this.temasArr" >
                        <tr>
                            <td><img src="{{tema.icon}}" class=" rounded-circle" alt="icon" width="40px" height="40px"></td>
                            <td class="">{{tema.title}}</td>
                            <td>
                                <!--img  src="assets/img/close.svg" class="ps-4 close" alt="">
                                <img *ngIf="this.visto == false" src="assets/img/close.svg" class="ps-4 close" alt=""-->
                                <i *ngIf="this.visto == true" class="fas fa-check ps-4" style="color: #015287;"></i>
                                <i *ngIf="this.visto == false" class="fas fa-times ps-4" style="color: #015287;"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Modal Conferncias-->
<div class="modal fade" id="conferencias" tabindex="-1" aria-labelledby="conferencias" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <h5 class="modal-title mb-3" id="exampleModalLabel">Conferencias</h5>
              <p class="text7 txt-gris mb-3">Aquí podras ver las conferencias programadas para esta certificación.</p>
              <div class="card color rounded-4 mb-3" *ngFor="let conferencia of this.allConferencias">
                  <div class="card-body">
                      <div class="d-flex">
                          <div class="me-3 mt-1">
                              <img src="assets/img/visto.svg" class="mx-auto d-block" alt="...">
                          </div>
                          <div>
                              <label class="text10 txt-blue d-block">{{conferencia.titulo}}</label>
                              <label class="text9 txt-blue d-block">{{conferencia.fecha}}</label>
                              <label class="text9 txt-blue d-block">{{conferencia.descripcion}}</label>
                              <a href="{{conferencia.link}}" target="_blank" class="boton2 ps-0">Link</a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
