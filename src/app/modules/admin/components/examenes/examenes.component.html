<div class="container-lg page-content top">
    <div class="row">
        <div class="col-12">
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home"
                        type="button" role="tab" aria-controls="nav-home" aria-selected="true"
                        (click)="onClickTab('asignature')">Asignaciones</button>
                    <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile"
                        type="button" role="tab" aria-controls="nav-profile" aria-selected="false"
                        (click)="onClickTab('diagnostic')">Diagnóstico</button>
                    <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact"
                        type="button" role="tab" aria-controls="nav-contact" aria-selected="false"
                        (click)="onClickTab('test')">Examenes</button>
                </div>
            </nav>
            <div class="tab-content mb-5" id="nav-tabContent">
                <!--TABLA ASIGNACIONES-->
                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                    <div *ngIf="this.asignature == 0">
                        <label class="text3 txt-blue2 mt-3">Asignar curso</label>
                        <hr class="w-100">
                        <label class="text14 txt-blue mb-3">Buscar y seleccionar usuarios</label>
                        <!--<form-->
                        <div class="row">
                            <div class="col-md-2 col-lg-2">
                                <label class="text13 txt-blue">Buscar por:</label>
                            </div>
                            <div class="col-md-6 col-lg-5 col-xl-4">
                                <div class="form-check form-check-inline ps-0 mb-2">
                                    <label class="text13 txt-blue float-start" for="inlineRadio1">Nombre</label>
                                    <input class="form-check-input ms-3" [(ngModel)]="searchSelect"
                                        (change)="changeSearch()" [ngModelOptions]="{standalone: true}" [value]="'1'"
                                        type="radio" name="inlineRadioOptions" id="inlineRadio1">
                                </div>
                                <div class="form-check form-check-inline ps-0 mb-2">
                                    <label class="text13 txt-blue float-start" for="inlineRadio1">Area</label>
                                    <input class="form-check-input ms-3" [(ngModel)]="searchSelect"
                                        (change)="changeSearch()" [ngModelOptions]="{standalone: true}" [value]="'2'"
                                        type="radio" name="inlineRadioOptions" id="inlineRadio1">
                                </div>
                                <div class="form-check form-check-inline ps-0 mb-2">
                                    <label class="text13 txt-blue float-start" for="inlineRadio1">Puesto</label>
                                    <input class="form-check-input ms-3" type="radio" name="inlineRadioOptions"
                                        id="inlineRadio1" [(ngModel)]="searchSelect" (change)="changeSearch()"
                                        [ngModelOptions]="{standalone: true}" [value]="'3'">
                                </div>
                            </div>
                            <div class="col-6 col-md-3 col-lg-2">
                                <button class="botondrop bg-grey2 p-1" (click)="searchUsers('show')">Mostrar
                                    todos</button>
                            </div>
                            <div class="col-4 col-md-3 col-lg-2 offset-xl-2 offset-lg-0 offset-md-9 mt-lg-0">
                                <button class="boton bg-blue mx-auto d-block w-100 p-1 p-md-2"
                                    (click)="asignarCertificacion()">Guardar</button>
                            </div>
                        </div>
                        <div class="mt-3 mb-3">
                            <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Buscar</label>
                            <input type="text" class="input3" id="exampleInputEmail1" aria-describedby="emailHelp"
                                [ngModelOptions]="{standalone: true}" (ngModelChange)="didModify()" [(ngModel)]="text1">
                        </div>
                        <div class="row mt-4 mb-4" *ngIf="this.length != 0">
                            <div class="col-12 col-lg-6">
                                <ul class="list-group">
                                    <li class="list-group-item"
                                        *ngFor="let user of searchArray | paginate: {id: 'firstAsg', itemsPerPage: 6, currentPage: psc }">
                                        <input class="form-check-input me-1 float-end" type="checkbox"
                                            value="{{user.idUser}}" id="firstCheckbox" (change)="changeValue($event)">
                                        <label class="text13 txt-blue" for="firstCheckbox">{{user.full_name}}
                                        </label>
                                    </li>
                                </ul>
                                <pagination-controls id="firstAsg" class="w-100 d-flex justify-content-center mt-2"
                                    (pageChange)="psc = $event" previousLabel="Anterior"
                                    nextLabel="Siguiente"></pagination-controls>
                            </div>
                        </div>
                        <label class="text13 txt-blue mb-2">Curso</label>
                        <div class="dropdown w-auto">
                            <!--<button class="botondrop dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                                Seleccionar certificación
                              </button>
                              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                              </ul>-->
                            <select class="botondrop dropdown-toggle" [(ngModel)]="certificationSelected"
                                [ngModelOptions]="{standalone: true}">
                                <option value="0" hidden>Curso</option>
                                <option *ngFor="let c of certificaciones" [value]="c.idCertification">{{c.title}}
                                </option>
                            </select>
                        </div>
                        <div *ngIf="showLength != 0">
                            <label class="text13 txt-blue mt-4 mb-2">Usuarios seleccionados</label>

                            <label class="text7 txt-gris d-block"
                                *ngFor="let alumno of showArr">{{alumno.full_name}}</label>
                        </div>
                        <!---Certificaciones-->
                        <div *ngIf="this.certificationSelected != '0'">
                          <label class="text13 txt-blue mt-4 mb-2">Certificación:{{this.title}}</label>
                          <ul class="list-group">
                            <li class="list-group-item" *ngFor="let user of searchArray | paginate: {id: 'firstAsg', itemsPerPage: 6, currentPage: psc }">
                                <input class="form-check-input me-1" type="checkbox"
                                    value="{{user.idUser}}" id="firstCheckbox" (change)="changeValue($event)">
                                <label class="text13 txt-blue" for="firstCheckbox">{{user.full_name}}</label>
                                <ul class="list-group">
                                  <li class="list-group-item" *ngFor="let user of searchArray | paginate: {id: 'firstAsg', itemsPerPage: 6, currentPage: psc }">
                                      <input class="form-check-input me-1" type="checkbox"
                                          value="{{user.idUser}}" id="firstCheckbox" (change)="changeValue($event)">
                                      <label class="text13 txt-blue" for="firstCheckbox">{{user.full_name}}</label>
                                  </li>
                                </ul>
                            </li>
                          </ul>
                        </div>
                        <!--</form-->
                        <label class="text3 txt-blue2 mt-3">Ver asignaciones</label>
                        <label class="text6 txt-gris mt-3 ms-2">Curso por usuario</label>
                        <hr class="w-100">
                        <!--Tabla--->
                        <div class="table-responsive">
                            <table id="asignacion" class="table data striped dt-responsive nowrap" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Usuario</th>
                                        <th>Trabajo</th>
                                        <th>Área</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let user of usersArr | paginate: { id: 'twoAsg', itemsPerPage: 6, currentPage: pas}">
                                        <th scope="row">{{user.idUser}}</th>
                                        <th scope="row"><button type="button" class="boton4"
                                                (click)="changeAsignature(1, user.idUser)">{{user.full_name}}</button>
                                        </th>
                                        <td>{{user.job}}</td>
                                        <td *ngIf="user.area != ''">{{user.area}}</td>
                                        <td *ngIf="user.area == ''">N/A</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row mt-2">
                            <div class="col-12">
                                <pagination-controls id="twoAsg" class="w-100 d-flex justify-content-center"
                                    (pageChange)="pas = $event" previousLabel="Anterior"
                                    nextLabel="Siguiente"></pagination-controls>
                            </div>
                        </div>
                        <label class="text3 txt-blue2 mt-3">Quitar/cambiar asignaciones</label>
                        <label class="text6 txt-gris mt-3 ms-2">Selecciona un usuario</label>
                        <hr class="w-100">
                        <!--Tabla--->
                        <table id="quitarasignacion" class="table data striped dt-responsive nowrap" style="width:100%">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let user of usersArr | paginate: { id: 'threeAsg', itemsPerPage: 6, currentPage: pquit}">
                                    <th scope="row"><button type="button" class="boton4"
                                            (click)="changeAsignature(2, user.idUser)">{{user.full_name}}</button></th>
                                    <td>{{user.email}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row mt-2">
                            <div class="col-12">
                                <pagination-controls id="threeAsg" class="w-100 d-flex justify-content-center"
                                    (pageChange)="pquit = $event" previousLabel="Anterior"
                                    nextLabel="Siguiente"></pagination-controls>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="this.asignature == 1">
                        <div class="row mt-3 mb-3">
                            <div class="col-lg-6 ">
                                <label class="text3 txt-blue2">Cursos de Usuario</label>
                            </div>
                            <div class="col-6 offset-6 col-lg-2 offset-lg-4">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end"
                                    (click)="changeAsignature(0)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <!--label class="text3 txt-blue2 mt-3">Cursos de Usuario</label>
                        <button class="boton bg-blue mx-auto d-block w-100 p-2" (click)="changeAsignature(0)">Regresar a
                            Listado</button-->
                        <hr class="w-100">
                        <!--Tabla--->
                        <table id="cursos" class="table data striped dt-responsive nowrap" style="width:100%"
                            *ngIf="this.userCL != 0">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Fecha asignada</th>
                                    <th>Puntuación</th>
                                    <th>Medallas</th>
                                    <th>Fecha terminación</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let curso of userCourses ">
                                    <th scope="row">1</th>
                                    <th scope="row">{{curso.title}}</th>
                                    <td>{{curso.creation_date}}</td>
                                    <td *ngIf="curso.score != null">{{curso.score}}</td>
                                    <td *ngIf="curso.score == null">0.00</td>
                                    <td>{{curso.medallas}}</td>
                                    <td *ngIf="curso.sent_date != null">{{curso.sent_date}}</td>
                                    <td *ngIf="curso.sent_date == null">N/A</td>
                                </tr>
                                <!--<tr>
                                    <th scope="row">2</th>
                                    <th scope="row">Corporativo</th>
                                    <td>2022-02-08</td>
                                    <td>0.00</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <th scope="row">Corporativo</th>
                                    <td>2022-02-08</td>
                                    <td>0.00</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th scope="row">4</th>
                                    <th scope="row">Corporativo</th>
                                    <td>2022-02-08</td>
                                    <td>0.00</td>
                                    <td></td>
                                    <td></td>
                                </tr>-->
                            </tbody>
                        </table>
                        <div *ngIf="this.userCL == 0">
                            <label class="text7 txt-gris mt-3">No hay cursos asignados</label>
                        </div>
                    </div>
                    <div *ngIf="this.asignature == 2">
                        <div class="row mt-3 mb-3">
                            <div class="col-lg-6 ">
                                <label class="text3 txt-blue2">Cursos activos</label>
                            </div>
                            <div class="col-6 offset-6 col-lg-2 offset-lg-4">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end"
                                    (click)="changeAsignature(0)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <!--label class="text3 txt-blue2 mt-3">Cursos activos</label>
                        <button class="boton bg-blue mx-auto d-block w-100 p-2"
                            (click)="changeAsignature(0)">Cancelar</button-->
                        <hr class="w-100">
                        <div *ngIf="this.userAL != 0">
                            <div class="row" *ngFor="let curso of userCourses">
                                <div class="col-12 col-md-8 order-3 order-md-1">
                                    <label class="text6 txt-blue mt-3 d-block">{{curso.title}}</label>
                                    <label class="text9 txt-gris d-block mt-3">Fecha de expiración:
                                        {{curso.finish_date}}</label>
                                    <label class="text9 txt-gris d-block mt-3">Elige una nueva fecha de expiro
                                        (opcional)</label>
                                    <input class="input4 mt-3" type="date"
                                        value="{{curso.finish_date != null ? curso.finish_date : 2017-06-01}}"
                                        [(ngModel)]="dateSelected" [ngModelOptions]="{standalone: true}" />
                                </div>
                                <div class="col-4 col-md-2 offset-4 offset-md-0 order-1 order-md-2">
                                    <button class="botondrop bg-grey2 p-1 w-100"
                                        (click)="editCourse(curso.idCertification, 'editar')">Modificar</button>
                                </div>
                                <div class="col-4 col-md-2 order-2 order-md-3">
                                    <button class="botondrop changeExExbg-grey2 p-1 w-100"
                                        (click)="editCourse(curso.idCertification, 'quitar')">Quitar</button>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="this.userAL == 0">
                            <label class="text7 txt-gris mt-3">No hay cursos activos</label>
                        </div>
                    </div>


                </div>
                <!--TABLA DIAGNOSTICO-->
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <div *ngIf="this.diagnostic == 0">
                        <label class="text3 txt-blue2 mt-3">Diagnóstico</label>
                        <hr class="w-100">
                        <!--Tabla--->
                        <table id="diagnostico" class="table data striped dt-responsive nowrap" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Descripción</th>
                                    <th>Fecha</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let c of this.certificaciones | paginate: { id: 'firstDiag', itemsPerPage: 5, currentPage: pdiag}">
                                    <th scope="row">{{c.idCertification}}</th>
                                    <th scope="row"><button type="button" class="boton4"
                                            (click)="changeDiagnostic(1, c.idCertification)">{{c.title}}</button></th>
                                    <td>{{c.description}}</td>
                                    <td *ngIf="c.creation_date != null">{{c.creation_date}}</td>
                                    <td *ngIf="c.creation_date == null">Sin dato</td>
                                    <td *ngIf="c.is_active == 1">Activa</td>
                                    <td *ngIf="c.is_active == 0">Inactiva</td>
                                </tr>
                            </tbody>

                        </table>
                        <div class="row mt-2">
                            <pagination-controls id="firstDiag" class="w-100 d-flex justify-content-center"
                                (pageChange)="pdiag = $event" previousLabel="Anterior"
                                nextLabel="Siguiente"></pagination-controls>

                        </div>
                    </div>

                    <div *ngIf="this.diagnostic == 1">
                        <!------Editor--->
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-3">
                                <label class="text3 txt-blue2 mt-3">Lista Diagnóstico</label>
                            </div>
                            <div class="col-8 col-md-4 col-lg-3 offset-lg-5" *ngIf="this.none == 0">
                                <button class="boton bg-blue w-100 p-1 p-md-2" data-bs-toggle="crear"
                                    data-bs-target="#exampleModal" (click)="createDiagnostic(this.backupDiagnostic)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Crear
                                </button>
                            </div>
                            <div class="col-8 col-md-4 col-lg-3 offset-lg-1" *ngIf=" this.none != 0">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeDiagnostic(2)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Agregar pregunta abierta
                                </button>
                            </div>
                            <div class="col-8 col-md-4 col-lg-4" *ngIf=" this.none != 0">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeDiagnostic(3)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Agregar pregunta opciones multiples
                                </button>
                            </div>
                            <div class="col-6 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeDiagnostic(0)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <!--Tabla de examenes--->
                        <div class="table-responsive" *ngIf="this.none == 0">
                            Aún no cuentas con un examen, crea uno presionando el botón "Crear".
                        </div>
                        <div class="table-responsive" *ngIf="this.none == 1">
                            Ya puedes agregar preguntas en los botones de la parte superior, pueden ser "Abiertas" o de
                            "Opción Multiple".
                        </div>
                        <div *ngIf="this.none == 2">
                            <div class="table-responsive">
                                <table id="conferencia" class="table data striped dt-responsive nowrap"
                                    style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Pregunta</th>
                                            <!--<th>Respuesta</th>
                                            <th>Abierta</th>-->
                                            <th>Tipo</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let question of this.questions | paginate: { id: 'secondDiag', itemsPerPage: 6, currentPage: pe}">
                                            <!--Evento para abrir pregunta abierta (click)="changeDiagnostic(4,'',question.idPregunta)"-->
                                            <th scope="row"><button type="button"
                                                    class="boton4">{{question.pregunta}}</button></th>
                                            <!--<td>{{question.respuesta}}</td>
                                            <td>{{question.abierta}}</td>-->
                                            <td *ngIf="question.opciones != 0">Opción multiple</td>
                                            <td *ngIf="question.opciones == 0">Abierta</td>
                                            <td><button class="boton2 removeArchivos"
                                                    (click)="removeQuestion(question.idPregunta, 'diagnostic')"><img
                                                        src="assets/img/close.svg" alt="close"></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <pagination-controls id="secondDiag" class="w-100 d-flex justify-content-center"
                                        (pageChange)="pe = $event" previousLabel="Anterior"
                                        nextLabel="Siguiente"></pagination-controls>
                                </div>
                            </div>
                        </div>
                        <!--Tabla de examenes--->
                        <!--form class="editor">
                            <div class="row">
                                <div class="col-8 col-md-4 col-lg-3">
                                    <button class="boton bg-blue w-100 p-1 p-md-2" (click)="cloneAbierta()">
                                        <img src="assets/img/agregar.svg" alt="">
                                        Agregar pregunta abierta
                                    </button>
                                </div>
                                <div class="col-8 col-md-4 col-lg-4">
                                    <button class="boton bg-blue w-100 p-1 p-md-2" (click)="clone()">
                                        <img src="assets/img/agregar.svg" alt="">
                                        Agregar pregunta opciones multiples
                                    </button>
                                </div>
                                <div class="col-4 col-md-4 col-lg-2 offset-lg-3">
                                    <button class="boton bg-blue mx-auto d-block w-100 p-1 p-md-2">Guardar</button>
                                </div>
                            </div>
                            <Duplicar>
                            <div class="pregunta1 mt-3" *ngFor="let question of this.questions; let i = index">
                                <div class="row mb-3" class="abierta mt-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <utton class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="{{question.pregunta}}">
                                    </div>
                                </div>
                                <div class="row mt-3 opcion1" *ngFor="let opcion of question.opciones; let j = index">
                                    <div class="col-12">
                                        <div class="form-check mb-3">
                                            <label class="text13 txt-blue" for="inlineRadio1">{{opcion.texto}}</label>
                                            <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                                id="inlineRadio1" value="{{ opcion.id }}">
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <input class="input5" type="text" name="opcion" id="" value="{{opcion.texto}}">
                                    </div>
                                    <div class="col-4 d-flex align-items-center">
                                        <input type="file" class="file" name="avatar" accept="image/png, image/jpeg" />
                                        <!button class="boton2"><img src="assets/img/imgpreg.svg" alt=""></button>
                                        <button class="boton2" (click)="cloneOpcion()"><img
                                                src="assets/img/agregapreg.svg" alt=""></button>
                                        <button class="boton2" (click)="remove()"><img src="assets/img/quitarpreg.svg"
                                                alt=""></button>
                                    </div>
                                </div>
                            </div>
                            <div class="pregunta mt-3" id="pregunta{{this.n}}" *ngIf="this.cloneOption != 0">
                                <div class="row mb-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <button class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" placeholder="Escribe tu pregunta aquí">
                                    </div>
                                </div>
                                <div class="row mt-3 opcion">
                                    <div class="col-12">
                                        <div class="form-check mb-3">
                                            <label class="text13 txt-blue" for="inlineRadio1">titulo de la
                                                opción</label>
                                            <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                                id="inlineRadio1" value="{{this.cloneOption}}">
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <input class="input5" type="text" name="opcion" id=""
                                            placeholder="nombre de la opción">
                                    </div>
                                    <div class="col-4 d-flex align-items-center">
                                        <input type="file" class="file" name="avatar" accept="image/png, image/jpeg" />
                                        <button class="boton2"><img src="assets/img/imgpreg.svg" alt=""></button>
                                        <button class="boton2" (click)="cloneOpcion()"><img
                                                src="assets/img/agregapreg.svg" alt=""></button>
                                        <button class="boton2" (click)="remove()"><img src="assets/img/quitarpreg.svg"
                                                alt=""></button>
                                    </div>
                                </div>
                            </div>
                            <!Duplicar>
                        </form-->
                    </div>
                    <!--Vista Revision de preguntas abiertas-->
                    <div *ngIf="this.diagnostic == 4">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-5">
                                <label class="text3 txt-blue2 mt-3">Calificar preguntas abiertas</label>
                            </div>
                            <div class="col-8 col-md-4 col-lg-3 offset-lg-3">
                                <button class="boton bg-blue w-100 p-1 p-md-2"
                                    (click)="createDiagnostic(this.backupDiagnostic)">
                                    Guardar
                                </button>
                            </div>
                            <div class="col-6 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeDiagnostic(0)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="mt-3">
                                <div class="row mb-3 d-flex align-items-center">
                                    <div class="col-12 col-md-8">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                        <label for="exampleInputEmail1"
                                            class="text13 txt-blue mt-2 mb-2">Respuesta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="respuesta">
                                    </div>
                                    <div class="col-12 col-md-4 mt-4">
                                        <div class="form-check form-check-inline ps-0">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="1" type="radio" name="inlineRadioOptions" id="inlineRadio1">
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="0" type="radio">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div *ngIf="this.diagnostic == 2">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-4">
                                <label class="text3 txt-blue2">Añadir pregunta abierta</label>
                            </div>
                            <div class="col-6 col-md-4 col-lg-2 offset-lg-5">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="updateQuestions('open')">
                                    Guardar pregunta
                                </button>
                            </div>
                            <div class="col-6 col-md-4 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeDiagnostic(1, this.backupDiagnostic)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="mt-3">
                                <div class="row mb-3" class="mt-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div *ngIf="this.diagnostic == 3">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-5">
                                <label class="text3 txt-blue2" *ngIf="this.editQuestion == 1">Añadir pregunta opcion
                                    multiple</label>
                                <label class="text3 txt-blue2" *ngIf="this.editQuestion == 1">Editar pregunta</label>
                            </div>
                            <div class="col-6 col-md-5 col-lg-2 offset-lg-4">
                                <button class="boton bg-blue w-100 p-1 p-md-2" *ngIf="this.editQuestion == 0"
                                    (click)="updateQuestions('close')">
                                    Guardar pregunta
                                </button>
                                <button class="boton bg-blue w-100 p-1 p-md-2" *ngIf="this.editQuestion == 1">
                                    Editar pregunta
                                </button>
                            </div>
                            <div class="col-6 col-md-4 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeDiagnostic(1, this.backupDiagnostic)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="pregunta mt-3">
                                <div class="row mb-3" class="mt-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <!--button class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button-->
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                    </div>
                                </div>
                                <!--<div class="row mt-3">
                                    <div class="col-2">
                                        <button class="boton bg-blue w-100 p-1 p-md-2 clone"
                                            (click)="cloneOpcion()"><img src="assets/img/agregar.svg" alt="">Guardar opción y agregar
                                            nueva</button>
                                    </div>
                                </div>-->
                                <!--ARREGLO QUE MUESTRA LAS OPCIONES QUE AGREGO EL USUARIO-->
                                <div class="mt-3 opcion" *ngIf="this.new != 0">
                                    <div *ngFor="let option of this.optionsProv" class="row">
                                        <div class="col-12">
                                            <label class="text13 txt-blue mb-3 me-2">Respuesta correcta:</label>
                                            <label *ngIf="option.correcta == 1" class="text13 txt-gris2">Si</label>
                                            <label *ngIf="option.correcta == 0" class="text13 txt-gris2">No</label>
                                        </div>
                                        <div class="col-3">
                                            <input class="input5" type="text" name="opcion" id=""
                                                value="{{option.opcion}}" disabled>
                                        </div>
                                        <div class="col-4 d-flex align-items-center">
                                            <div *ngIf="option.img != null">
                                                <input id="fileDiag" type="file" class="file" name="avatar"
                                                    accept="image/png, image/jpeg" title="Imagen añadida" disabled />
                                                <label>Imagen agregada</label>
                                            </div>
                                            <button class="boton2 remove" title="Eliminar opción"
                                                (click)="removeQuestion(option.idOpcion, 'option', 'new')"><img
                                                    src="assets/img/quitarpreg.svg" alt=""></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3 opcion">
                                    <div class="col-7">
                                        <label class="text13 txt-blue d-block">Respuesta correcta:</label>
                                        <div class="form-check form-check-inline ps-0 mb-2">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="1" type="radio" name="inlineRadioOptions" id="inlineRadio1">
                                        </div>
                                        <div class="form-check form-check-inline mb-2">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="0" type="radio">
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <button class="boton bg-blue w-auto p-1 p-md-2 clone"
                                            (click)="cloneOpcion()"><img src="assets/img/agregar.svg" alt="">Guardar
                                            opción</button>
                                    </div>
                                    <div class="col-3">
                                        <input class="input5" type="text" name="opcion" id="" value=""
                                            placeholder="Escribe aquí la opción" [ngModelOptions]="{standalone: true}"
                                            (change)="cambio()" [(ngModel)]="options">
                                    </div>
                                    <div class="col-4 d-flex align-items-center">
                                        <input type="file" class="file" name="avatar" title="Añadir una imagen"
                                            accept="image/png, image/jpeg" (change)="selectFile($event)" />
                                        <label *ngIf="this.onImage == 1">Imagen agregada</label>
                                        <!--<button class="boton2 remove" (click)="removeOpcion()" title="Eliminar opción"><img
                                                src="assets/img/quitarpreg.svg" alt=""></button>-->
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!--TABLA EXAMENES-->
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <div *ngIf="this.exam == 0">
                        <label class="text3 txt-blue2 mt-3">Examenes</label>
                        <hr class="w-100">
                        <table id="examenes" class="table data striped dt-responsive nowrap" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Descripción</th>
                                    <th>Fecha</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let c of this.certificaciones | paginate: { id:'firstExam', itemsPerPage: 6, currentPage: pexam}">
                                    <th scope="row">{{c.idCertification}}</th>
                                    <th scope="row"><button type="button" class="boton4"
                                            (click)="changeExam(1, c.idCertification)">{{c.title}}</button></th>
                                    <td>{{c.description}}</td>
                                    <td *ngIf="c.creation_date != null">{{c.creation_date}}</td>
                                    <td *ngIf="c.creation_date == null">Sin dato</td>
                                    <td *ngIf="c.is_active == 1">Activa</td>
                                    <td *ngIf="c.is_active == 0">Inactiva</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row mt-2">
                            <div class="col-12">
                                <pagination-controls id="firstExam" class="w-100 d-flex justify-content-center"
                                    (pageChange)="pexam = $event" previousLabel="Anterior"
                                    nextLabel="Siguiente"></pagination-controls>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="this.exam == 1">
                        <div class="row mt-3 mb-3 d-flex align-items-center">
                            <div class="col-lg-6">
                                <label class="text3 txt-blue2">Selecciona el módulo</label>
                            </div>
                            <div class="col-6 offset-6 col-lg-2 offset-lg-4">

                                <button class="boton rounded-pill bg-blue aspect1-1 float-end" (click)="changeExam(0)">
                                    <i class="fas fa-reply"></i>
                                </button>
                                <!--<button *ngIf="this.modLength == 0" class="boton bg-blue p-1 p-md-2" (click)="goCourses()">

                                    Ir a cursos
                                </button>-->
                            </div>
                        </div>
                        <!--label class="text3 txt-blue2 mt-3">Selecciona el módulo</label>
                        <button class="boton bg-blue mx-auto d-block w-100 p-2"
                            (click)="changeExam(0)">Cancelar</button-->
                        <hr class="w-100">
                        <div class="table-responsive" *ngIf="this.modLength == 0">
                            Aún no cuentas con un modulos en este curso.
                        </div>
                        <div class="table-responsive" *ngIf="this.modLength != 0">
                            <table class="table striped w-100">
                                <thead>
                                    <tr>
                                        <th scope="col">Título</th>
                                        <th>Editar examen</th>
                                        <th>Ver cursantes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let module of modules">
                                        <td>{{module.title}}</td>
                                        <td><button class="boton2 text-decoration-none"
                                                (click)="changeExam(2, module.idModule, module.title)">Editar</button>
                                        </td>
                                        <td><button class="boton2 text-decoration-none"
                                                (click)="changeExam(3, module.idModule, module.title)">Ver</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div *ngIf="this.exam == 2">
                        <!------Editor--->
                        <div class="row mt-3 mb-3 d-flex align-items-center">
                            <div class="col-lg-4">
                                <label class="text3 txt-blue2">Lista de preguntas</label>
                                <!--label class="text6 txt-gris ms-2">Agrega preguntas cerradas o abiertas con
                                opciones.</label-->
                            </div>
                            <div *ngIf="this.none == 0" class="col-8 col-md-4 col-lg-3 offset-lg-4">
                                <button class="boton bg-blue w-100 p-1 p-md-2" data-bs-toggle="modal"
                                    data-bs-target="#crear">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Crear
                                </button>
                            </div>
                            <!--<div class="col-8 col-md-4 col-lg-3" *ngIf="this.none == 1 || this.none == 2">
                              <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeExam(4)">
                                <img src="assets/img/agregar.svg" alt="">
                                Agregar pregunta abierta
                              </button>
                            </div>-->
                            <div class="col-8 col-md-4 col-lg-4" *ngIf="this.none == 1 || this.none == 2">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeExam(5)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Agregar pregunta opciones multiples
                                </button>
                            </div>
                            <!--<div class="col-8 col-md-4 col-lg-3">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeExam(4)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Agregar pregunta abierta
                                </button>
                            </div>
                            <div class="col-8 col-md-4 col-lg-4">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="changeExam(5)">
                                    <img src="assets/img/agregar.svg" alt="">
                                    Agregar pregunta opciones multiples
                                </button>
                            </div>-->
                            <div class="col-6 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeExam(1, this.respaldo1)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <!--label class="text3 txt-blue2 mt-3">Editor</label>

                            <button class="boton bg-blue mx-auto d-block w-100 p-2"
                            (click)="changeExam(1, this.respaldo)">Regresar a modulos</button-->
                        <hr class="w-100">
                        <!--Tabla de examenes--->
                        <div class="table-responsive" *ngIf="this.none == 0">
                            Aún no cuentas con un examen para este modulo, puedes crear presionando el botón "Crear".
                        </div>
                        <div class="table-responsive" *ngIf="this.none == 1">
                            Ya puedes agregar preguntas en los botones de la parte superior, pueden ser "Abiertas" o de
                            "Opción Multiple".
                        </div>
                        <div class="editor" *ngIf="this.none == 2">
                            <div class="table-responsive">
                                <table id="conferencia" class="table data striped dt-responsive nowrap"
                                    style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Pregunta</th>
                                            <!--<th>Respuesta</th>
                                            <th>Abierta</th>-->
                                            <th>Tipo</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let pregunta of this.examModule | paginate: { id:'thirdExam', itemsPerPage: 6, currentPage: pe}">
                                            <!--Evento para la vista de revision examenes (click)="changeExam(6,pregunta.idModule,'', pregunta.idEval_question)"--->
                                            <th scope="row"><button type="button" class="boton4"
                                                    (click)="changeExam(7,pregunta.idModule,'', pregunta.idEval_question)">{{pregunta.question}}</button>
                                            </th>
                                            <!--<td >{{pregunta.respuestas.option}}</td>-->
                                            <td *ngIf="pregunta.respuestas != 0">Opción multiple</td>
                                            <td *ngIf="pregunta.respuestas == 0">Abierta</td>
                                            <td><button class="boton2 removeArchivos"
                                                    (click)="removeQuestion(pregunta.idEval_question, 'exam')"><img
                                                        src="assets/img/close.svg" alt="close"></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <pagination-controls id="thirdExam" class="w-100 d-flex justify-content-center"
                                        (pageChange)="pe = $event" previousLabel="Anterior"
                                        nextLabel="Siguiente"></pagination-controls>
                                </div>
                            </div>

                            <!--Duplicar-->
                            <!--div class="pregunta1 mt-3" *ngFor="let pregunta of examModule; let j = index">
                                <div class="row mb-3" class="abierta mt-2">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="{{pregunta.question}}">
                                    </div>
                                </div>
                                <!--Duplicar-->
                            <!--<div class="pregunta1 mt-3" *ngFor="let pregunta of examModule; let j = index">
                                <div class="row mb-3" class="abierta mt-2">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <!--button class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button-->
                            <!--<input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="{{pregunta.question}}">
                                    </div>
                                </div>
                                <div class="row mt-3 opcion1" *ngFor="let opcion of pregunta.respuestas; let j = index">
                                    <div class="col-12">
                                        <div class="form-check mb-3">
                                            <label class="text13 txt-blue" for="inlineRadio1">Opción</label>
                                            <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                                id="inlineRadio1" value="{{opcion.option}}">
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <input class="input5" type="text" name="opcion" id="" value="{{opcion.option}}">
                                    </div>
                                    <div class="col-4 d-flex align-items-center">
                                        <input type="file" class="file" name="avatar" accept="image/png, image/jpeg" />
                                        <button class="boton2 clone" (click)="cloneOpcion()"><img
                                                src="assets/img/agregapreg.svg" alt=""></button>
                                        <button class="boton2 remove" (click)="remove()"><img
                                                src="assets/img/quitarpreg.svg" alt=""></button>
                                    </div>
                                </div>
                            </div>
                            <div class="pregunta mt-3" id="pregunta{{this.n}}" *ngIf="this.cloneOption != 0">
                                <div class="row mb-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <!--button class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button-->
                            <!--<input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp">
                                    </div>
                                </div>
                                <div class="row mt-3 opcion" id="opcion{{this.n}}">
                                    <div class="col-12">
                                        <div class="form-check mb-3">
                                            <label class="text13 txt-blue" for="inlineRadio1">Opción</label>
                                            <input class="form-check-input" type="radio" name="inlineRadioOptions"
                                                id="inlineRadio1" value="option1">
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <input class="input5" type="text" name="opcion" id="">
                                    </div>
                                    <div class="col-4 d-flex align-items-center">
                                        <input type="file" class="file" name="avatar" accept="image/png, image/jpeg" />
                                        <button class="boton2 clone" (click)="cloneOpcion()"><img
                                                src="assets/img/agregapreg.svg" alt=""></button>
                                        <button class="boton2 remove" (click)="remove()"><img
                                                src="assets/img/quitarpreg.svg" alt=""></button>
                                    </div>
                                </div>
                            </div-->
                            <!--Duplicar-->

                        </div>
                    </div>
                    <div *ngIf="this.exam == 3">
                        <div class="row d-flex align-items-center">
                            <div class="col-6">
                                <label class="text3 txt-blue2">Usuarios</label>
                                <label class="text6 txt-gris ms-2">Participantes en el modulo:
                                    {{this.moduloTitle}}</label>
                            </div>
                            <div class="col-6 offset-6 col-lg-1 offset-lg-5">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeExam(1, this.respaldo1)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <!--<button class="boton bg-blue mx-auto d-block w-100 p-2"
                            (click)="changeExam(1,this.respaldo)">Regresar a modulos</button>-->
                        <hr class="w-100">
                        <div class="table-responsive" *ngIf="this.usersModule.length == 0">
                            Aún no cuentas con un usuarios para este modulo.
                        </div>
                        <!--Tabla--->
                        <table id="asignacion" class="table data striped dt-responsive nowrap" style="width:100%"
                            *ngIf="this.usersModule.length != 0">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usuario</th>
                                    <th>Trabajo</th>
                                    <th>Área</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let user of usersModule | paginate: { id:'fourExam',itemsPerPage: 6, currentPage: pas}">
                                    <th scope="row">{{user.idUser}}</th>
                                    <th scope="row">{{user.full_name}}</th>
                                    <td>{{user.job}}</td>
                                    <td *ngIf="user.area != ''">{{user.area}}</td>
                                    <td *ngIf="user.area == ''">N/A</td>
                                </tr>
                                <!--<tr>
                                    <th scope="row">1</th>
                                    <th scope="row"><button type="button" class="boton4">Ramon</button></th>
                                    <td>Programador</td>
                                    <td>Sistemas</td>
                                </tr>-->
                            </tbody>
                            <!--<pagination-controls id="fourExam" (pageChange)="pas = $event" previousLabel="Anterior"
                                nextLabel="Siguiente"></pagination-controls>-->
                        </table>
                    </div>
                    <div *ngIf="this.exam == 4">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-4">
                                <label class="text3 txt-blue2">Añadir pregunta abierta</label>
                            </div>
                            <div class="col-6 col-md-4 col-lg-2 offset-lg-5">
                                <button class="boton bg-blue w-100 p-1 p-md-2" (click)="updateQuestionsExam('open')">
                                    Guardar pregunta
                                </button>
                            </div>
                            <div class="col-6 col-md-4 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeExam(2, this.certificacionID)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="mt-3">
                                <div class="row mb-3" class="mt-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div *ngIf="this.exam == 5">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-5">
                                <label class="text3 txt-blue2" *ngIf="this.editQuestion == 0">Añadir pregunta opción
                                    multiple</label>
                                <label class="text3 txt-blue2" *ngIf="this.editQuestion == 1">Editar pregunta opción
                                    multiple</label>

                            </div>
                            <div class="col-6 col-md-5 col-lg-2 offset-lg-4">
                                <button class="boton bg-blue w-100 p-1 p-md-2" *ngIf="this.editQuestion == 0"
                                    (click)="updateQuestionsExam('close')">
                                    Guardar pregunta
                                </button>
                                <button  (click)="updateQuestion('open')" class="boton bg-blue w-100 p-1 p-md-2" *ngIf="this.editQuestion == 1">
                                    Guardar cambios
                                </button>
                            </div>
                            <div class="col-6 col-md-4 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeExam(2, this.respaldo)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="pregunta mt-3">
                                <div class="row mb-3" class="mt-3">
                                    <div class="col-12 col-md-10">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <!--button class="boton2 float-end"><img src="assets/img/close.svg" alt=""></button-->
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                    </div>
                                </div>
                                <!--<div class="row mt-3">
                                    <div class="col-2">
                                        <button class="boton bg-blue w-100 p-1 p-md-2 clone"
                                            (click)="cloneOpcion()"><img src="assets/img/agregar.svg" alt="">Guardar opción y agregar
                                            nueva</button>
                                    </div>
                                </div>-->
                                <!--ARREGLO QUE MUESTRA LAS OPCIONES QUE AGREGO EL USUARIO-->
                                <div *ngIf="this.editQuestion == 0">
                                    <div class="mt-3 opcion" *ngIf="this.new != 0">
                                        <div *ngFor="let option of this.optionsProv" class="row">
                                            <div class="col-12 mb-3">
                                                <label class="text13 txt-blue me-3">Respuesta correcta:</label>
                                                <label *ngIf="option.correcta == 1" class="text13 txt-gris2">Si</label>
                                                <label *ngIf="option.correcta == 0" class="text13 txt-gris2">No</label>
                                            </div>
                                            <div class="col-3">
                                                <input class="input5" type="text" name="opcion" id=""
                                                    value="{{option.opcion}}" disabled>
                                            </div>
                                            <div class="col-4 d-flex align-items-center">
                                                <button class="boton2 remove" title="Eliminar opción"
                                                    (click)="removeQuestion(option.idOpcion, 'option', 'new')"><img
                                                        src="assets/img/quitarpreg.svg" alt=""></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3 opcion">
                                        <div class="col-7">
                                            <label class="text13 txt-blue d-block mb-2">Respuesta correcta:</label>
                                            <div class="form-check form-check-inline ps-0 mb-2">
                                                <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                                <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                    (change)="changeOption('search')"
                                                    [ngModelOptions]="{standalone: true}" [value]="1" type="radio"
                                                    name="inlineRadioOptions" id="inlineRadio1">
                                            </div>
                                            <div class="form-check form-check-inline mb-2">
                                                <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                                <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                    (change)="changeOption('search')"
                                                    [ngModelOptions]="{standalone: true}" [value]="0" type="radio">
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <button class="boton bg-blue w-auto p-1 p-md-2 clone"
                                                (click)="cloneOpcionExam()"><img src="assets/img/agregar.svg"
                                                    alt="">Guardar opción</button>
                                        </div>
                                        <div class="col-3">
                                            <input class="input5" type="text" name="opcion" id="" value=""
                                                placeholder="Escribe aquí la opción"
                                                [ngModelOptions]="{standalone: true}" (change)="cambio()"
                                                [(ngModel)]="options">
                                        </div>
                                        <div class="col-4 d-flex align-items-center">
                                            <input type="file" class="file" name="avatar" title="Añadir una imagen"
                                                accept="image/png, image/jpeg" (change)="selectFile($event)" />
                                            <label *ngIf="this.onImage == 1">Imagen agregada</label>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="this.editQuestion == 1">
                                    <div class="mt-3 opcion">
                                        <div *ngFor="let answer of this.questionAnswers" class="row">
                                            <div class="col-12 mb-3">
                                                <label class="text13 txt-blue me-3">Respuesta correcta:</label>
                                                <label *ngIf="answer.is_correct == 1"
                                                    class="text13 txt-gris2">Si</label>
                                                <label *ngIf="answer.is_correct== 0" class="text13 txt-gris2">No</label>
                                            </div>
                                            <div class="col-3">
                                                <input class="input5" type="text" name="opcion" id=""
                                                    value="{{answer .option}}" disabled>
                                            </div>
                                            <div class="col-4 d-flex align-items-center">
                                                <button class="boton2 remove" title="Eliminar opción"
                                                    (click)="removeEditQuestion(answer.idEval_option)"><img
                                                        src="assets/img/quitarpreg.svg" alt=""></button>
                                                <button class="boton2 remove" title="Editar opción"
                                                    (click)="editAnswers(answer.idEval_option,  1, answer.idEval_question,                                                    answer.option, answer.is_correct, answer.img)"
                                                    data-bs-toggle="modal" data-bs-target="#editar">Editar
                                                    opción</button>
                                            </div>
                                            <div class="col-4 d-flex align-items-center" *ngIf="answer.img != ''">
                                                <input type="file" class="file" name="avatar" title="Añadir una imagen"
                                                    accept="image/png, image/jpeg" (change)="selectFile($event)" disabled/>Contiene imagen
                                                <!--<label *ngIf="this.onImage == 1">Imagen agregada</label>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3 opcion">
                                        <div class="col-7">
                                            <label class="text13 txt-blue d-block mb-2">Respuesta correcta:</label>
                                            <div class="form-check form-check-inline ps-0 mb-2">
                                                <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                                <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                    (change)="changeOption('search')"
                                                    [ngModelOptions]="{standalone: true}" [value]="1" type="radio"
                                                    name="inlineRadioOptions" id="inlineRadio1">
                                            </div>
                                            <div class="form-check form-check-inline mb-2">
                                                <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                                <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                    (change)="changeOption('search')"
                                                    [ngModelOptions]="{standalone: true}" [value]="0" type="radio">
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <button class="boton bg-blue w-auto p-1 p-md-2 clone"
                                                (click)="addEditExam()"><img src="assets/img/agregar.svg"
                                                    alt="">Guardar opción</button>
                                        </div>
                                        <div class="col-3">
                                            <input class="input5" type="text" name="opcion" id="" value=""
                                                placeholder="Escribe aquí la opción"
                                                [ngModelOptions]="{standalone: true}" (change)="cambio()"
                                                [(ngModel)]="options">
                                        </div>
                                        <div class="col-4 d-flex align-items-center">
                                            <input type="file" class="file" name="avatar" title="Añadir una imagen"
                                                accept="image/png, image/jpeg" (change)="selectFile($event)" />
                                            <label *ngIf="this.onImage == 1">Imagen agregada</label>
                                        </div>
                                    </div>
                                    <!--<div class="row mt-3 opcion" *ngFor="let answer of this.questionAnswers">
                                        <div class="col-7">
                                          <label class="text13 txt-blue d-block mb-2">Respuesta correcta:</label>
                                          <div class="form-check form-check-inline ps-0 mb-2">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                              (change)="changeOption('search')"
                                              [ngModelOptions]="{standalone: true}" [value]="1" type="radio"
                                            name="inlineRadioOptions" id="inlineRadio1">
                                          </div>
                                          <div class="form-check form-check-inline mb-2">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                              (change)="changeOption('search')"
                                              [ngModelOptions]="{standalone: true}" [value]="0" type="radio">
                                          </div>
                                        </div>
                                        <div class="col-3">
                                          <button class="boton bg-blue w-auto p-1 p-md-2 clone"
                                              (click)="cloneOpcionExam()"><img src="assets/img/agregar.svg"
                                                  alt="">Guardar opción</button>
                                        </div>
                                        <div class="col-3">
                                          <input class="input5" type="text" name="opcion" id="" value="{{answer}}"
                                            placeholder="Escribe aquí la opción" [ngModelOptions]="{standalone: true}"
                                            (change)="cambio()" [(ngModel)]="options">
                                        </div>
                                        <div class="col-4 d-flex align-items-center">
                                          <input type="file" class="file" name="avatar" title="Añadir una imagen"
                                            accept="image/png, image/jpeg" (change)="selectFile($event)" />
                                          <label *ngIf="this.onImage == 1">Imagen agregada</label>
                                        </div>
                                    </div>-->
                                </div>
                            </div>
                        </form>
                    </div>
                    <!--Vista Revision de preguntas abiertas examenes-->
                    <div *ngIf="this.exam == 6">
                        <div class="row d-flex align-items-center">
                            <div class="col-6 col-md-4 col-lg-5">
                                <label class="text3 txt-blue2 mt-3">Calificar preguntas abiertas</label>
                            </div>
                            <div class="col-8 col-md-4 col-lg-3 offset-lg-3">
                                <button class="boton bg-blue w-100 p-1 p-md-2"
                                    (click)="createDiagnostic(this.backupDiagnostic)">
                                    Guardar
                                </button>
                            </div>
                            <div class="col-6 col-lg-1">
                                <button class="boton rounded-pill bg-blue aspect1-1 float-end w-50"
                                    (click)="changeExam(1, this.respaldo1)">
                                    <i class="fas fa-reply"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="w-100">
                        <form [formGroup]="formAbiertas">
                            <div class="mt-3">
                                <div class="row mb-3 d-flex align-items-center">
                                    <div class="col-12 col-md-8">
                                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Pregunta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="question">
                                        <label for="exampleInputEmail1"
                                            class="text13 txt-blue mt-2 mb-2">Respuesta</label>
                                        <input type="text" class="input3" id="exampleInputEmail1"
                                            aria-describedby="emailHelp" value="" formControlName="respuesta">
                                    </div>
                                    <div class="col-12 col-md-4 mt-4">
                                        <div class="form-check form-check-inline ps-0">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="1" type="radio" name="inlineRadioOptions" id="inlineRadio1">
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}"
                                                [value]="0" type="radio">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="crear" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <form [formGroup]="formModal" (ngSubmit)="createExam(this.respaldo)">
        <div class="modal-dialog">
            <div class="modal-content p-3">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <h1 class="modal-title text13 txt-blue text-center mb-3" id="exampleModalLabel">Crear examen</h1>
                    <label for="exampleInputEmail1" class="text13 red mb-2" *ngIf="this.error != 0">Tienes que completar
                        todos los campos</label>
                    <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Titulo del examen</label>
                    <input type="text" class="input3 w-100" formControlName="title">
                    <label for="exampleInputEmail1" class="text13 txt-blue mb-2 mt-2">Duración por pregunta (en minutos)</label>
                    <input type="text" class="input3  w-100" formControlName="duracion">
                    <div class="row mt-2">
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Fecha de inicio</label>
                            <input type="date" class="input3  w-100" formControlName="fechaInicio">
                        </div>
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Fecha de final</label>
                            <input type="date" class="input3  w-100" formControlName="fechaFinal">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="boton bg-grey2 mx-auto ps-5 pe-5"
                        data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="boton bg-blue mx-auto ps-5 pe-5"
                        data-bs-dismiss="modal">Guardar</button>
                </div>
            </div>
        </div>
    </form>
</div>
<!--MODAL EDIT OPTION-->
<div class="modal fade" id="editar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <form [formGroup]="formModalEdit" (ngSubmit)="editAnswers(this.backAnswer, 2, this.backQuestion)">
        <div class="modal-dialog">
            <div class="modal-content p-3">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <h1 class="modal-title text13 txt-blue text-center mb-3" id="exampleModalLabel">Editar opción</h1>
                    <!--<label for="exampleInputEmail1" class="text13 red mb-2" *ngIf="this.error != 0">Tienes que completar
                        todos los campos</label>-->
                    <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Opción</label>
                    <input type="text" class="input3 w-100" formControlName="option">
                    <label for="exampleInputEmail1" class="text13 txt-blue mb-2 mt-2" *ngIf="this.onImage == 1">Editar imagen actual</label>
                    <label for="exampleInputEmail1" class="text13 txt-blue mb-2 mt-2" *ngIf="this.onImage == 0">Agregar imagen</label>
                    <input type="file" name="avatar" title="Añadir una imagen"
                    accept="image/png, image/jpeg" (change)="selectFile($event)" />
                    <!--<input type="text" class="input3  w-100" formControlName="duracion">-->
                    <div class="row mt-2">
                        <label for="exampleInputEmail1" class="text13 txt-blue mb-2">Opción correcta</label>
                        <div class="col-6">
                            <label class="text13 txt-blue float-start" for="inlineRadio1">Si</label>
                            <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                (change)="changeOption('search')" [ngModelOptions]="{standalone: true}" [value]="1"
                                type="radio" name="inlineRadioOptions" id="inlineRadio1">
                        </div>
                        <div class="col-6">
                            <div class="form-check form-check-inline">
                                <label class="text13 txt-blue float-start" for="inlineRadio1">No</label>
                                <input class="form-check-input ms-3" [(ngModel)]="selectedOption"
                                    (change)="changeOption('search')" [ngModelOptions]="{standalone: true}" [value]="0"
                                    type="radio">
                            </div>
                        </div>
                    </div>
                    <!--<div class="row mt-2">
                    <div class="col-4 d-flex align-items-center">
                        <input type="file" class="file" name="avatar" title="Añadir una imagen"
                            accept="image/png, image/jpeg" (change)="selectFile($event)" />
                        <label *ngIf="this.onImage == 1">Imagen agregada</label>
                    </div>
                    </div>-->
                </div>
                <div class="modal-footer">
                    <button type="button" class="boton bg-grey2 mx-auto ps-5 pe-5"
                        data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="boton bg-blue mx-auto ps-5 pe-5"
                        data-bs-dismiss="modal">Guardar</button>
                </div>
            </div>
        </div>
    </form>
</div>
